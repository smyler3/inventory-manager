<a href="/categories/<%= category.id %>/products" class="back-link"><- Back to category</a>
<h1><%= title %></h1>
<h2 class="page-form-context">Enter password to delete "<%= product.title %>" from the "<%= category.title %>" category</h2>

<form 
    action="/categories/<%= category.id %>/products/<%= product.id %>/delete" 
    method="POST" 
    id="delete-product-form" 
    class="page-form"
>
    <% 
        const passwordErrors = locals.errors ? errors.filter(x => x.path === "password") : [];
    %>
    
    <div class="page-form-field-container">
        <label for="password" class="page-form-label">Password</label>
        <input
            type="password"
            name="password"
            id="password"
            class="form-input <%= passwordErrors.length > 0 ? 'invalid-form-input' : '' %>"
            required
        >
        <%- include("./partials/fieldErrors", { errors: passwordErrors }) %>
    </div>
</form>

<div class="button-container">
    <button type="submit" form="delete-product-form" class="action-btn">Delete</button>
    <a href="/categories/<%= category.id %>/products" class="action-btn">Cancel</a>
</div>